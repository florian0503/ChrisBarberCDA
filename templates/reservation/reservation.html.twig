{# src/templates/prestation/prestations.html.twig #}
{% extends 'base.html.twig' %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
{% endblock %}

{% block body %}
	<div class="bg-black pt-5">
		<div class="container py-3 prestation border border-warning rounded-4">

			<h1 class="prestation__heading text-white mb-4">1 PRESTATIONS</h1>

			{% for prestation in prestations %}
				<div class="card prestations__item mb-4 bg-dark border border-warning text-light">
					<div
						class="card-body d-flex align-items-start w-100">

						{# description qui prend tout l’espace dispo #}
						<div class="prestations__desc flex-fill me-4">
							<h5 class="prestations__title mb-2">{{ prestation.title }}</h5>
							<p class="prestations__summary mb-2">{{ prestation.summary }}</p>

							<button class="btn btn-link text-white text-decoration-none p-0 prestations__toggle" type="button" data-bs-toggle="collapse" data-bs-target="#details-{{ loop.index }}" aria-expanded="false">
								Plus de détails
								<i class="bi bi-caret-down-fill prestations__icon--down"></i>
								<i class="bi bi-caret-up-fill prestations__icon--up"></i>
							</button>


							<div class="collapse prestations__details mt-2" id="details-{{ loop.index }}">
								<ul class="list-unstyled mb-0">
									{% for line in prestation.details %}
										<li class="prestations__detail">–
											{{ line }}</li>
									{% endfor %}
								</ul>
							</div>
						</div>

						{# actions collées à droite #}
						<div class="prestations__actions text-end">
							<div class="prestations__price fs-5 mb-1">{{ prestation.price }}€</div>
							<div class="prestations__duration text-muted mb-2">{{ prestation.duration }}</div>
							<button class="btn btn-outline-warning text-white prestations__btn">
								Choisir
							</button>
						</div>

					</div>
				</div>
			{% endfor %}

		</div>
	</div>
{% endblock %}

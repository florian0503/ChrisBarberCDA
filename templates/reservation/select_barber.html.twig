{# templates/reservation/select_barber.html.twig #}
{% extends 'base.html.twig' %}

{% block body %}
<div class="bg-black">
<div class="container py-5">
  <div class="card bg-black border-gold rounded-4 p-4 text-light">
    <h2 class="mb-3">2.1 Barber</h2>
    <p class="mb-4">Avec qui ?</p>

    <form method="post" action="{{ path('reservation_confirm') }}">
      <div class="row g-4">

        {# — Sans préférence — #}
        <div class="col-md-3 barber-card-wrapper">
          <input
            class="d-none barber-input"
            type="radio"
            id="barber_none"
            name="barber"
            value=""
            checked
          >
          <label
            for="barber_none"
            class="card barber-card rounded-4 p-3 text-white justify-content-center"
          >
            <span>Sans préférence</span>
            <span class="select-icon"></span>
          </label>
        </div>

        {# — Chaque barbier de la BDD — #}
        {% for barber in barbers %}
          <div class="col-md-3 barber-card-wrapper">
            <input
              class="d-none barber-input"
              type="radio"
              id="barber_{{ barber.id }}"
              name="barber"
              value="{{ barber.id }}"
            >
            <label
              for="barber_{{ barber.id }}"
              class="card barber-card rounded-4 p-3 text-white"
            >
              <div class="d-flex align-items-center">
                <img
                  src="{{ asset('uploads/barbers/' ~ barber.photo) }}"
                  alt="Photo de {{ barber.firstName }}"
                  class="rounded-circle me-3"
                  width="60" height="60"
                >
                <span class="h5 mb-0">{{ barber.firstName }}</span>
              </div>
              <span class="select-icon"></span>
            </label>
          </div>
        {% endfor %}

      </div>
    </form>
  </div>
</div>
</div>
{% endblock %}
